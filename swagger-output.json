{
  "swagger": "2.0",
  "info": {
    "title": "Expense Tracker App API",
    "description": "The Expense Tracker App is a web application for managing personal expenses. It allows users to track their daily expenses, categorize them, and analyze statistics related to their spending. The app also supports bulk upload of expenses via CSV files, and it includes an admin role for managing expenses and users.",
    "version": "1.0.0"
  },
  "host": "",
  "basePath": "/",
  "schemes": [
    "https","http"
  ],
  "paths": {
    "/user/signup": {
      "post": {
        "description": "Register a new user",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "username": {
                  "type": "string",
                  "example": "JohnDoe"
                },
                "email": {
                  "type": "string",
                  "example": "john@example.com"
                },
                "password": {
                  "type": "string",
                  "example": "password123"
                },
                "role": {
                  "type": "string",
                  "example": "user"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "User created successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/user/login": {
      "post": {
        "description": "Login a user",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "john@example.com"
                },
                "password": {
                  "type": "string",
                  "example": "password123"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Login successful"
          },
          "400": {
            "description": "Invalid credentials"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/user/logout": {
      "post": {
        "description": "Logout the current user",
        "responses": {
          "200": {
            "description": "Logout successful"
          }
        }
      }
    },
    "/user/allusers": {
      "get": {
        "description": "Get all users (admin only)",
        "responses": {
          "200": {
            "description": "List of all users"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/expenses/myexpenses": {
      "get": {
        "description": "Fetch expenses of the current user",
        "parameters": [
          {
            "name": "title",
            "in": "query",
            "type": "string"
          },
          {
            "name": "category",
            "in": "query",
            "type": "string"
          },
          {
            "name": "dateRange",
            "in": "query",
            "type": "string"
          },
          {
            "name": "paymentMethod",
            "in": "query",
            "type": "string"
          },
          {
            "name": "sort",
            "in": "query",
            "type": "string"
          },
          {
            "name": "page",
            "in": "query",
            "type": "integer"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer"
          },
          {
            "name": "type",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "List of expenses"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/expenses/statistics": {
      "get": {
        "description": "Get statistics for the user's expenses",
        "parameters": [
          {
            "name": "dateRange",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/expenses/add": {
      "post": {
        "description": "Add a new expense",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string",
                  "example": "Groceries"
                },
                "amount": {
                  "type": "number",
                  "example": 100.5
                },
                "date": {
                  "type": "string",
                  "example": "2024-11-27"
                },
                "category": {
                  "type": "string",
                  "example": "Food"
                },
                "paymentMethod": {
                  "type": "string",
                  "example": "Credit Card"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Expense added successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/expenses/update/{id}": {
      "patch": {
        "description": "Update an expense by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "amount": {
                  "type": "number"
                },
                "date": {
                  "type": "string"
                },
                "category": {
                  "type": "string"
                },
                "paymentMethod": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Expense updated successfully"
          },
          "400": {
            "description": "Invalid input data"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Expense not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/expenses/delete/{id}": {
      "delete": {
        "description": "Delete an expense by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "Expense deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Expense not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    }
  }
}
